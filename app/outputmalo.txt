Tu alias para negociar: AmarNoEsDelito
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ¤– ConfiguraciÃ³n del Agente â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
              Modelos disponibles               
â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ # â”ƒ Modelo      â”ƒ DescripciÃ³n                â”ƒ
â”¡â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”©
â”‚ 1 â”‚ llama3.2:3b â”‚ âš¡âš¡âš¡ ULTRA RÃPIDO (3-5s) â”‚
â”‚ 2 â”‚ qwen3-vl:8b â”‚ âš¡âš¡ Balance (5-10s)       â”‚
â”‚ 3 â”‚ qwen2.5:7b  â”‚ âš¡ Calidad (10-15s)        â”‚
â”‚ 4 â”‚ phi3:mini   â”‚ âš¡âš¡âš¡ Muy rÃ¡pido (3-5s)   â”‚
â”‚ 5 â”‚ qwen3:8b    â”‚ solo Texto â† default       â”‚
â””â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Selecciona modelo [1/2/3/4/5] (1): 5
Â¿Activar modo DEBUG? [y/n] (y): y
MÃ¡ximo de rondas (10): 20
Segundos entre rondas (30): 30
    ğŸ“‹ Resumen de ConfiguraciÃ³n    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Alias       â”‚  AmarNoEsDelito  â”‚
â”‚  Modelo      â”‚  qwen3:8b        â”‚
â”‚  Debug       â”‚  âœ… ACTIVADO     â”‚
â”‚  Max rondas  â”‚  20              â”‚
â”‚  Pausa       â”‚  30s             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Â¿Iniciar agente? [y/n] (y): y
2026-02-10 16:47:23.164 | INFO     | negociador:__init__:228 - Logs guardados en /home/hlocal/Documents/pln/pln/app/logs/AmarNoEsDelito.log
â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ ğŸ¤– AGENTE NEGOCIADOR AUTÃ“NOMO â”‚
â”‚                               â”‚
â”‚   Alias:      AmarNoEsDelito  â”‚
â”‚   Modelo:     qwen3:8b        â”‚
â”‚   Debug:      ACTIVADO        â”‚
â”‚   Max rondas: 20              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯
2026-02-10 16:47:23.170 | WARNING  | api_client:crear_alias:80 - Error creando alias: status 403
âš  No se pudo crear el alias 'AmarNoEsDelito', puede que ya exista.

ğŸ”„ RONDA 1/20
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ ğŸ“ RONDA â€” Modo: conseguir_objetivo â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
2026-02-10 16:47:23.178 | DEBUG    | negociador:_ejecutar_ronda:1089 - â„¹ï¸ [INFO] Estado actual | {'oro': 14, 'necesidades': {'ladrillos': 5, 'trigo': 4, 'madera': 5}, 'excedentes': {'arroz': 1, 'tela': 5}, 'objetivo_completado': False}
  â„¹ï¸ [INFO] Estado actual | {'oro': 14, 'necesidades': {'ladrillos': 5, 'trigo': 4, 'madera': 5}, 'excedentes': 
{'arroz': 1, 'tela': 5}, 'objetivo_completado': False}
2026-02-10 16:47:23.179 | DEBUG    | negociador:_ejecutar_ronda:1105 - â„¹ï¸ [INFO] Procesando buzÃ³nâ€¦
  â„¹ï¸ [INFO] Procesando buzÃ³nâ€¦
2026-02-10 16:47:23.179 | DEBUG    | negociador:_procesar_buzon:874 - ğŸ“¥ [RECEPCION] Carta de a | {'asunto': 'Oferta de trueque', 'mensaje': 'Hola, tengo estos recursos de sobra:\n- ladrillos: 1\n- piedra: 4\n- tela: 4\n- oro: 8\n- arroz: 1\n'}
  ğŸ“¥ [RECEPCION] Carta de a | {'asunto': 'Oferta de trueque', 'mensaje': 'Hola, tengo estos recursos de sobra:\n- 
ladrillos: 1\n- piedra: 4\n- tela: 4\n- oro: 8\n- arroz: 1\n'}
2026-02-10 16:47:29.327 | DEBUG    | negociador:_analizar_mensaje:366 - â€¢ [DEBUG] IA unificada: {'es_aceptacion': False, 'es_estafa': False, 'ofrecen': {}, 'piden': {}, 'razon': 'Mensaje de anuncio de recursos sin propuesta de intercambio'}
  â€¢ [DEBUG] IA unificada: {'es_aceptacion': False, 'es_estafa': False, 'ofrecen': {}, 'piden': {}, 'razon': 
'Mensaje de anuncio de recursos sin propuesta de intercambio'}
2026-02-10 16:47:29.328 | DEBUG    | negociador:_procesar_buzon:931 - ğŸ” [ANALISIS] Carta de a analizada | {'ofrecen': {}, 'piden': {}, 'aceptar': False, 'razon': 'oferta incompleta (falta ofrecen o piden)'}
  ğŸ” [ANALISIS] Carta de a analizada | {'ofrecen': {}, 'piden': {}, 'aceptar': False, 'razon': 'oferta incompleta 
(falta ofrecen o piden)'}
2026-02-10 16:47:29.329 | DEBUG    | negociador:_procesar_buzon:1016 - â„¹ï¸ [INFO] Mensaje de a sin propuesta clara: oferta incompleta (falta ofrecen o piden)
  â„¹ï¸ [INFO] Mensaje de a sin propuesta clara: oferta incompleta (falta ofrecen o piden)
2026-02-10 16:47:29.334 | DEBUG    | negociador:_ejecutar_ronda:1116 - â„¹ï¸ [INFO] Enviando propuestasâ€¦
  â„¹ï¸ [INFO] Enviando propuestasâ€¦
Traceback (most recent call last):
  File "/home/hlocal/Documents/pln/pln/app/main.py", line 266, in <module>
    main()
  File "/home/hlocal/Documents/pln/pln/.venv/lib/python3.12/site-packages/click/core.py", line 1485, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/.venv/lib/python3.12/site-packages/click/core.py", line 1406, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/.venv/lib/python3.12/site-packages/click/core.py", line 1269, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/.venv/lib/python3.12/site-packages/click/core.py", line 824, in invoke
    return callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/app/main.py", line 84, in main
    _menu_agente(alias)
  File "/home/hlocal/Documents/pln/pln/app/main.py", line 136, in _menu_agente
    _ejecutar_agente(alias, modelo, debug, max_rondas, pausa, interactivo=True)
  File "/home/hlocal/Documents/pln/pln/app/main.py", line 151, in _ejecutar_agente
    agente.ejecutar(max_rondas)
  File "/home/hlocal/Documents/pln/pln/app/negociador.py", line 1155, in ejecutar
    completado = self._ejecutar_ronda()
                 ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/app/negociador.py", line 1117, in _ejecutar_ronda
    self._enviar_propuestas(necesidades, excedentes, estado["oro"])
  File "/home/hlocal/Documents/pln/pln/app/negociador.py", line 1035, in _enviar_propuestas
    propuesta = self._generar_propuesta(jugador, necesidades, excedentes, oro)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/app/negociador.py", line 439, in _generar_propuesta
    if self._rechazo_vigente(clave):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/hlocal/Documents/pln/pln/app/negociador.py", line 408, in _rechazo_vigente
    if clave not in self.rechazos_recibidos:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: unhashable type: 'dict'
